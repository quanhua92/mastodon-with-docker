version: '3'
networks:
  internal_network:
    external: true
services:
  redis:
    container_name: mastodon-redis  
    restart: always
    image: redis:7-alpine
    networks:
      - internal_network
    healthcheck:
      test: ['CMD', 'redis-cli', 'ping']
    volumes:
      - ./data/redis:/data